{% extends 'base-admin.html.twig' %}

{% block title %}
    Index utilisateur
{% endblock %}

{% block body %}
    <div class="align-items-center">
        <h1>
            Liste des 
            {{ title }}
        </h1>
        {# <div class="d-flex justify-content-between " style="">
            <a href="{{ path('admin_user_new') }}" class="btn-sm btn-success my-3" >
                Nouveau
            </a>
        </div> #}
    </div>

    <table class="table" data-sorting="true" data-filtering="true" data-paging="true" data-paging-size="3">
        <thead>
            <tr>
                <th>
                    Id
                </th>
                <th>
                    Email
                </th>
                <th>
                    Roles
                </th>
                <th class="text-end">
                    Actions
                </th>
            </tr>
        </thead>
        <tbody>
            {% for user in users %}
                <tr>
                    <td>
                        {{ user.id }}
                    </td>
                    <td>
                        {{ user.email }}
                    </td>
                    <td>
                        {% if "ROLE_ADMIN" in user.roles %}
                            Administrateur
                                                
                        {% elseif "ROLE_USER" %}
                            Utilisateur
                                                
                        {% endif %}
                    </td>
                    <td class="d-flex justify-content-end">
                        {# <a href="{{ path('admin_user_show', {'id': user.id}) }}" class="text-dark btn-sm btn-secondary">
                            <i class="fa fa-eye" aria-hidden="true"></i>
                        </a> #}
                        <a href="{{ path('admin_user_edit', {'id': user.id, 'role':role}) }}" class="text-dark btn-sm btn-secondary ms-3">
                            <i class="fa fa-pencil" aria-hidden="true"></i>
                        </a>
                    </td>
                </tr>
            {% else %}
                <tr>
                    <td colspan="5">
                        no records found
                    </td>
                </tr>
            {% endfor %}
        </tbody>
    </table>

{% endblock %}

